import{j as e}from"./index-cPf8uUct.js";import{e as s,u as a,b as t}from"./vendor-CY12d32z.js";function n(){var n;const r=s(),c=a(),[o,l]=t.useState(!1),[d,i]=t.useState(null);if(!(null==(n=r.state)?void 0:n.product))return c("/"),null;return e.jsxs("div",{className:"tryon-page",children:[e.jsx("h1",{children:"Virtual Try-On Experience"}),e.jsxs("div",{className:"tryon-container",children:[e.jsxs("div",{className:"product-section",children:[e.jsx("h2",{children:"Selected Product"}),e.jsxs("div",{className:"product-preview",children:[e.jsx("img",{src:r.state.product.image,alt:r.state.product.name}),e.jsx("h3",{children:r.state.product.name}),e.jsxs("p",{className:"product-price",children:["$",r.state.product.price]})]}),e.jsx("button",{className:"download-button",onClick:async()=>{try{const e=`wearly-${r.state.product.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}.jpg`,s=await fetch(r.state.product.image),a=await s.blob(),t=window.URL.createObjectURL(a),n=document.createElement("a");n.href=t,n.download=e,navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(n.target="_blank",n.setAttribute("rel","noopener noreferrer")),document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100),l(!0),/Mobi|Android/i.test(navigator.userAgent)&&i("Image saved! Check your Downloads or Gallery.")}catch(e){console.error("Download error:",e),i("Failed to download product image. Please try again.")}},disabled:o,children:o?"âœ“ Product Image Downloaded":"Download Product Image"})]}),e.jsxs("div",{className:"instructions",children:[e.jsx("h2",{children:"How to Try On This Product"}),e.jsxs("div",{className:"steps-container",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Download the Product"}),e.jsx("p",{children:'Click the "Download Product Image" button above to save the garment to your device'}),o&&e.jsx("span",{className:"step-status completed",children:"âœ“ Completed"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Open Try-On Tool"}),e.jsx("p",{children:'Click the "Open Virtual Try-On" button below to launch the Kolors AI tool'})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Upload & Process"}),e.jsxs("div",{className:"sub-steps",children:[e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"ðŸ“¸"}),e.jsx("p",{children:'Upload your full-body photo in the "Person image" section'})]}),e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"ðŸ‘•"}),e.jsx("p",{children:'Upload the downloaded product in the "Garment image" section'})]}),e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"âœ¨"}),e.jsx("p",{children:'Click "Run" and see the magic happen!'})]})]})]})]})]})]}),e.jsx("button",{className:"try-on-button",onClick:()=>{window.open("https://huggingface.co/spaces/Kwai-Kolors/Kolors-Virtual-Try-On","_blank")},children:"Open Virtual Try-On"}),d&&e.jsx("div",{className:"error-message",children:e.jsx("p",{children:d})})]})]})}export{n as default};
