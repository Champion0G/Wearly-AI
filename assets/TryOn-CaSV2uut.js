import{b as x,u as b,r as l,j as e}from"./index-BZgLmk3Z.js";function N(){var r;const s=x(),i=b(),[a,p]=l.useState(!1),[n,o]=l.useState(null);if(!((r=s.state)!=null&&r.product))return i("/"),null;const u=async()=>{try{const m=`wearly-${s.state.product.name.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}.jpg`,j=await(await fetch(s.state.product.image)).blob(),d=window.URL.createObjectURL(j),t=document.createElement("a");t.href=d,t.download=m,navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&(t.target="_blank",t.setAttribute("rel","noopener noreferrer")),document.body.appendChild(t),t.click(),setTimeout(()=>{document.body.removeChild(t),window.URL.revokeObjectURL(d)},100),p(!0),/Mobi|Android/i.test(navigator.userAgent)&&o("Image saved! Check your Downloads or Gallery.")}catch(c){console.error("Download error:",c),o("Failed to download product image. Please try again.")}},h=()=>{window.open("https://huggingface.co/spaces/Kwai-Kolors/Kolors-Virtual-Try-On","_blank")};return e.jsxs("div",{className:"tryon-page",children:[e.jsx("h1",{children:"Virtual Try-On Experience"}),e.jsxs("div",{className:"tryon-container",children:[e.jsxs("div",{className:"product-section",children:[e.jsx("h2",{children:"Selected Product"}),e.jsxs("div",{className:"product-preview",children:[e.jsx("img",{src:s.state.product.image,alt:s.state.product.name}),e.jsx("h3",{children:s.state.product.name}),e.jsxs("p",{className:"product-price",children:["$",s.state.product.price]})]}),e.jsx("button",{className:"download-button",onClick:u,disabled:a,children:a?"âœ“ Product Image Downloaded":"Download Product Image"})]}),e.jsxs("div",{className:"instructions",children:[e.jsx("h2",{children:"How to Try On This Product"}),e.jsxs("div",{className:"steps-container",children:[e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Download the Product"}),e.jsx("p",{children:'Click the "Download Product Image" button above to save the garment to your device'}),a&&e.jsx("span",{className:"step-status completed",children:"âœ“ Completed"})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Open Try-On Tool"}),e.jsx("p",{children:'Click the "Open Virtual Try-On" button below to launch the Kolors AI tool'})]})]}),e.jsxs("div",{className:"step",children:[e.jsx("div",{className:"step-number",children:"STEP 3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Upload & Process"}),e.jsxs("div",{className:"sub-steps",children:[e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"ðŸ“¸"}),e.jsx("p",{children:'Upload your full-body photo in the "Person image" section'})]}),e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"ðŸ‘•"}),e.jsx("p",{children:'Upload the downloaded product in the "Garment image" section'})]}),e.jsxs("div",{className:"sub-step",children:[e.jsx("span",{className:"sub-step-icon",children:"âœ¨"}),e.jsx("p",{children:'Click "Run" and see the magic happen!'})]})]})]})]})]})]}),e.jsx("button",{className:"try-on-button",onClick:h,children:"Open Virtual Try-On"}),n&&e.jsx("div",{className:"error-message",children:e.jsx("p",{children:n})})]})]})}export{N as default};
